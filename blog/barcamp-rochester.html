<!DOCTYPE html>
<html lang="en">
<head>
          <title>A Pelican Blog</title>
        <meta charset="utf-8" />
        <link href="/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="A Pelican Blog Full Atom Feed" />
        <link href="/feeds/news.atom.xml" type="application/atom+xml" rel="alternate" title="A Pelican Blog Categories Atom Feed" />



</head>

<body id="index" class="home">
        <header id="banner" class="body">
                <h1><a href="/">A Pelican Blog <strong></strong></a></h1>
        </header><!-- /#banner -->
        <nav id="menu"><ul>
        </ul></nav><!-- /#menu -->
<section id="content" class="body">
  <header>
    <h2 class="entry-title">
      <a href="/barcamp-rochester.html" rel="bookmark"
         title="Permalink to BarCamp Plot-chester">BarCamp Plot-chester</a></h2>
 
  </header>
  <footer class="post-info">
    <time class="published" datetime="2011-10-30T20:37:00+00:00">
      Sun 30 October 2011
    </time>
    <address class="vcard author">
      By           <a class="url fn" href="/author/berticus.html">berticus</a>
    </address>
  </footer><!-- /.post-info -->
  <div class="entry-content">
    <p><a class="reference external" href="/wp-uploads/2011/10/DSC_84671.jpg"><img alt="Interlock's BarCamp Table" class="alignnone size-large wp-image-665" src="/wp-uploads/2011/10/DSC_84671-1024x678.jpg" style="width: 600px; height: 400px;" /></a></p>
<p>As is usually the case, Interlock managed to cajole/bribe the organizers
of <a class="reference external" href="http://barcamproc.org/">BarCamp Rochester</a> into giving us a table
in the atrium, upon which we could set up our wares and lure in
unsuspecting geeks. The conference itself was really great, with lots of
interesting talks, and lots of attendees and traffic by our table.
Everybody seemed quite excited about the &quot;Skeletonizing Carcasses with
Flesh-eating Beetles&quot; talk, myself included.</p>
<p>In the past, we've had a slight lack of table-sized projects that moved,
made noise, or otherwise stimulated people to come talk to us and see
what Interlock is all about... but no longer!</p>
<p><a class="reference external" href="/wp-uploads/2011/10/DSC_84971.jpg"><img alt="image1" class="alignnone size-large wp-image-666" src="/wp-uploads/2011/10/DSC_84971-1024x678.jpg" style="width: 600px; height: 400px;" /></a></p>
<p>After becoming a little obsessed with <a class="reference external" href="{filename}/plottopotamus.rst">old pen
plotters</a> over the
past few months, I decided I'd like to try assembling my own drawing
robot. The main goal, again, was to have something small, cool, and
interactive to attract folks at events where we have a table or booth.
So about a month ago, our journey started with destruction... one
printer and one printer/scanner gave their slightly non-functional lives
to this project. Anything slightly cool was saved, and of course the
precision rods, stepper motors, and timing belts were the main goal. I
wanted this to use pin-feed card stock, so an old dot-matrix printer was
also sacrificed.</p>
<p>I was without camera for most of the month, so documentation is
non-existent. Regardless, the documentation would have been something
like this: &quot;!&#64;#$!&#64;#$ MORE EPOXY! !&#64;#%!#$&quot;, along with pictures of me
looking frustrated. Let's just say, this machine is a hack, on top of a
kludge, wrapped in a cob-job. We ended up with the paper-feed mechanism
from the dot-matrix printer acting as the Y axis, and <a class="reference external" href="https://www.adafruit.com/products/412">a small solenoid
from adafruit</a> riding along on
the X axis with a wobbly pen-holder (and some tape (and epoxy!)). This
was all hooked up to a rickety breadboard (I designed and ordered an
Arduino shield via <a class="reference external" href="http://batchpcb.com">Batch PCB</a>, but it didn't
arrive in time) with two <a class="reference external" href="http://www.pololu.com/catalog/product/1201">Polulu stepper
drivers</a>, an Arduino, and
a simple transistor doohicky for toggling the solenoid. We ran
<a class="reference external" href="https://github.com/simen/grbl">grbl</a> on the Arduino, and after
tracking down a bug in said code and reflashing the firmware, we were
well on our way. I learned a lot, stressed a bit, and the morning of
BarCamp we barely managed this:</p>
<p><a class="reference external" href="/wp-uploads/2011/10/DSC_8494.jpg"><img alt="image2" class="alignnone size-large wp-image-672" src="/wp-uploads/2011/10/DSC_8494-1024x678.jpg" style="width: 600px; height: 400px;" /></a></p>
<p>But it got better throughout the day, with some live on-the-scene
hacking. I managed to get a toolchain set up to get webcam input traced
and plotted thusly:</p>
<p><a class="reference external" href="http://www.flickr.com/photos/bert_m_b/6294760604/"><img alt="IMG_8267" src="http://farm7.static.flickr.com/6039/6294760604_cbcfdc264e_z.jpg" style="width: 600px; height: 400px;" /></a></p>
<p>That toolchain starts with
<a class="reference external" href="http://opencv.willowgarage.com/wiki/">OpenCV</a> handling the webcam,
and doing a &quot;trace outlines&quot; sort of procedure. From there, a PNG is
saved, converted to vectors by
<a class="reference external" href="http://autotrace.sourceforge.net/">autotrace</a>, converted from eps to
hpgl (the language of old-timey plotters) by
<a class="reference external" href="http://www.pstoedit.net/">pstoedit</a>, slurped back into Python via
the <a class="reference external" href="http://music.columbia.edu/cmc/chiplotle/">Chiplotle HPGL
library</a>, where I have a
few routines scale and optimize the tool path, and then we output some
ugly gcode and stream it to the Arduino. Phew.</p>
<p>It's a bit roundabout. But it worked, and it made people smile and
wander over to talk to us... and they got some cool robo-portraits out
of it. I'll leave you with another image and video of the bot doing its
thing. A few more can be found in <a class="reference external" href="http://www.flickr.com/photos/bert_m_b/sets/72157628015314436/detail/">my flickr
gallery</a>.</p>
<p><a class="reference external" href="http://www.flickr.com/photos/bert_m_b/6294232619/"><img alt="IMG_8269" src="http://farm7.static.flickr.com/6100/6294232619_e42b143249_z.jpg" style="width: 600px; height: 400px;" /></a></p>

  </div><!-- /.entry-content -->
</section>
        <footer id="contentinfo" class="body">
                <address id="about" class="vcard body">
                Proudly powered by <a href="http://getpelican.com/">Pelican</a>,
                which takes great advantage of <a href="http://python.org">Python</a>.
                </address><!-- /#about -->
        </footer><!-- /#contentinfo -->
</body>
</html>